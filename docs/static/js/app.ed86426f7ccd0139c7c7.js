webpackJsonp([1],{"1/oy":function(t,e){},"9M+g":function(t,e){},GfHa:function(t,e){},Id91:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},o,!1,function(t){n("gsu9")},null,null).exports,a=n("/ocq"),r=n("bOdI"),l=n.n(r),d=n("woOf"),c=n.n(d),u=n("mvHQ"),f=n.n(u),m=n("Zrlr"),v=n.n(m),p=n("wxAW"),h=n.n(p),g=function(){function t(){v()(this,t)}return h()(t,null,[{key:"fetch",value:function(){var t=JSON.parse(localStorage.getItem("vue-todolist")||"[]");return t.forEach(function(t,e){t.id=e}),t}},{key:"save",value:function(t){localStorage.setItem("vue-todolist",f()(t))}}]),t}(),b=n("DAYN"),C=n.n(b),_=function(){function t(){v()(this,t)}return h()(t,null,[{key:"getColor",value:function(t){switch(t){case 0:return"badge-light circle-button-border";case 1:return"badge-warning";case 2:return"badge-success";default:return"badge-info"}}}]),t}(),x={name:"todo-item",props:{id:Number,comment:String,state:Number},data:function(){return{}},methods:{changeEventHandler:function(){this.$emit("changeState",this.id)},badgeColor:function(t){return _.getColor(t)},editEventHandler:function(){this.$emit("edit",this.id)},removeEventHandler:function(){this.$emit("remove",this.id)}}},w={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"p-1 move-icon"},[n("font-awesome-icon",{attrs:{icon:"ellipsis-v",size:"xs"}})],1),t._v(" "),n("div",{staticClass:"p-1",on:{click:t.changeEventHandler}},[n("span",{staticClass:"circle-button pointer",class:t.badgeColor(t.state)})]),t._v(" "),n("div",{staticClass:"p-1 flex-grow-1 no-wrap todo-text",attrs:{title:t.comment}},[t._v("\n      "+t._s(t.comment)+"\n    ")]),t._v(" "),n("div",{staticClass:"p-1",on:{click:t.editEventHandler}},[n("font-awesome-icon",{staticClass:"pointer",attrs:{icon:"edit",size:"xs"}})],1),t._v(" "),n("div",{staticClass:"p-1",on:{click:t.removeEventHandler}},[n("span",{staticClass:"pointer"},[t._v("Ã—")])])])])},staticRenderFns:[]};var I=n("VU/8")(x,w,!1,function(t){n("dCZW")},null,null).exports;function E(t,e){return-1!==e?t.filter(function(t){return t.state===e}):t.concat()}function T(t,e){return t[t.findIndex(function(t){return t.id===e})]}var k={name:"TodoList",components:{draggable:C.a,TodoItem:I},data:function(){return{todos:[],filteredTodos:[],lastUid:0,options:[{value:-1,label:"All"},{value:0,label:"Todo"},{value:1,label:"In Progress"},{value:2,label:"Done"}],filterOption:-1,isModal:!1,editingItem:null}},methods:{doAdd:function(t,e){var n=this.$refs.comment;n.value.length&&(this.isModal&&null!==this.editingItem?(this.editingItem.comment=n.value,this.editingItem=null,this.isModal=!1):this.todos.push({id:this.lastUid++,comment:n.value,state:0}),n.value="")},doChangeState:function(t){var e=T(this.todos,t);switch(e.state){case 0:e.state=1;break;case 1:e.state=2;break;case 2:e.state=0}},doRemove:function(t){var e=this.todos.findIndex(function(e){return e.id===t});this.todos.splice(e,1)},editComment:function(t){this.isModal=!0;var e=this.$refs.comment,n=T(this.todos,t);e.value=n.comment,e.focus(),this.editingItem=n},cancelEdit:function(){this.isModal=!1,this.$refs.comment.value="",this.editingItem=null},todoCounts:function(t){return this.todos.filter(function(e){return-1===t||e.state===t}).length},badgeColor:function(t){return _.getColor(t)},onDragEnd:function(t){var e=0;if(t.oldIndex<t.newIndex)e=-1;else{if(!(t.oldIndex>t.newIndex))return;e=1}var n=this.filteredTodos[t.newIndex],i=this.todos.indexOf(n),o=this.filteredTodos[t.newIndex+e],s=this.todos.indexOf(o);this.todos.splice(i,1),this.todos.splice(s,0,n)}},watch:{todos:{handler:function(t){g.save(t),this.filteredTodos=E(this.todos,this.filterOption)},deep:!0},filterOption:function(t){this.filteredTodos=E(this.todos,t)}},created:function(){this.todos=g.fetch(),this.filteredTodos=this.todos.concat(),this.lastUid=this.todos.length},computed:{labels:function(){return this.options.reduce(function(t,e){return c()(t,l()({},e.value,e.label))},{})}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("form",{staticClass:"fixed-top add-form center-block",staticStyle:{"padding-top":"20px",margin:"0 50px"},on:{submit:function(e){return e.preventDefault(),t.doAdd(e)}}},[n("div",{staticClass:"input-group input-group-sm mb-3"},[t._m(0),t._v(" "),n("input",{ref:"comment",staticClass:"form-control",attrs:{type:"text",id:"comment"}}),t._v(" "),t._m(1)])]),t._v(" "),n("div",t._l(t.options,function(e){return n("label",{key:e.value,staticClass:"p-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.filterOption,expression:"filterOption"}],attrs:{type:"radio"},domProps:{value:e.value,checked:t._q(t.filterOption,e.value)},on:{change:function(n){t.filterOption=e.value}}}),t._v(" "),n("span",[t._v(t._s(e.label))]),t._v(" "),n("span",{staticClass:"badge",class:t.badgeColor(e.value)},[t._v("\n        "+t._s(t.todoCounts(e.value))+"\n      ")])])})),t._v(" "),n("div",{staticClass:"list-group"},[n("draggable",{attrs:{options:{handle:".move-icon"}},on:{end:t.onDragEnd},model:{value:t.filteredTodos,callback:function(e){t.filteredTodos=e},expression:"filteredTodos"}},t._l(t.filteredTodos,function(e){return n("todo-item",{key:e.id,staticClass:"list-group-item list-group-item-action list-style",attrs:{id:e.id,comment:e.comment,state:e.state},on:{changeState:t.doChangeState,edit:t.editComment,remove:t.doRemove}})}))],1),t._v(" "),t.isModal?n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"overlay",on:{click:function(e){t.cancelEdit()}}})]):t._e()],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("label",{staticClass:"input-group-text",attrs:{for:"comment"}},[this._v("Todo")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"input-group-prepend"},[e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("OK")])])}]};var O=n("VU/8")(k,y,!1,function(t){n("VFnW")},"data-v-f301920e",null).exports;i.a.use(a.a);var $=new a.a({routes:[{path:"/",name:"TodoList",component:O}]}),H=(n("Jmt5"),n("9M+g"),n("e6fC")),M=n("C/JF"),S=n("fhbW"),A=n("1e6/");M.c.add(S.b,S.a),i.a.component("font-awesome-icon",A.a),i.a.use(H.a),i.a.config.productionTip=!1,new i.a({el:"#app",router:$,components:{App:s},template:"<App/>"})},VFnW:function(t,e){},dCZW:function(t,e){},gsu9:function(t,e){},zj2Q:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.ed86426f7ccd0139c7c7.js.map